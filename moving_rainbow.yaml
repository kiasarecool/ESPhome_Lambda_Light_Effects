light:
  - platform: neopixelbus
    type: GRB
    pin: GPIO3
    num_leds: 12  # Change this to the number of LEDs in your ring/strip
    name: "NeoPixel light"
    effects:
      - addressable_lambda:
          name: Moving Rainbow
          update_interval: 50ms
          lambda: |-
            static int phase = 0;  // To keep track of the phase of the wave
            for (int i = 0; i < it.size(); i++) {
              // Compute the color based on the LED index and phase
              int hue = (i * 360 / it.size() + phase) % 360;
              it[i] = it.color_from_rgb_565(ESPColor::from_hsv(hue, 100, 100));
            }
            phase = (phase + 5) % 360;  // Update the phase